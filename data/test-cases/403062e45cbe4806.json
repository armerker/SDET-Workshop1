{"uid":"403062e45cbe4806","name":"Комплексный тест удаления сущности с фикстурами","fullName":"all_tests.api.test_delete_entit.TestDeleteEntity#test_delete_and_verify_entity_removal","historyId":"b8cf52dac6c4f0111fa84023f3f5f250","time":{"start":1764190055449,"stop":1764190055468,"duration":19},"description":"\n        Предусловия:\n        - Создана тестовая сущность для удаления (через фикстуру entity_for_deletion)\n\n        Шаги:\n        1. Удалить сущность\n        2. Проверить, что сущность недоступна по ID\n        3. Проверить отсутствие сущности в общем списке\n\n        Постусловия:\n        - Тестовые данные удалены в процессе теста\n        ","descriptionHtml":"<pre><code>    Предусловия:\n    - Создана тестовая сущность для удаления (через фикстуру entity_for_deletion)\n\n    Шаги:\n    1. Удалить сущность\n    2. Проверить, что сущность недоступна по ID\n    3. Проверить отсутствие сущности в общем списке\n\n    Постусловия:\n    - Тестовые данные удалены в процессе теста\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1764190055327,"stop":1764190055392,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"data_generator","time":{"start":1764190055393,"stop":1764190055410,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"api_client","time":{"start":1764190055393,"stop":1764190055393,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"log_test_start","time":{"start":1764190055445,"stop":1764190055445,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"entity_for_deletion","time":{"start":1764190055445,"stop":1764190055449,"duration":4},"status":"passed","steps":[{"name":"POST запрос к 'create'","time":{"start":1764190055446,"stop":1764190055449,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"endpoint","value":"'create'"},{"name":"data","value":"EntityCreate(title='Сущность для удаления', verified=True, important_numbers=[44, 55, 64], addition=AdditionRequest(additional_info='Крыса пространство соответствие смертельный степь. Ставить торопливый правление один построить.', additional_number=589))"},{"name":"response_model","value":"<class 'all_tests.api.models.response_models.CreateEntityResponse'>"},{"name":"params","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"testStage":{"description":"\n        Предусловия:\n        - Создана тестовая сущность для удаления (через фикстуру entity_for_deletion)\n\n        Шаги:\n        1. Удалить сущность\n        2. Проверить, что сущность недоступна по ID\n        3. Проверить отсутствие сущности в общем списке\n\n        Постусловия:\n        - Тестовые данные удалены в процессе теста\n        ","status":"passed","steps":[{"name":"1. Удаление сущности","time":{"start":1764190055450,"stop":1764190055451,"duration":1},"status":"passed","steps":[{"name":"DELETE запрос к 'delete/2'","time":{"start":1764190055450,"stop":1764190055451,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"endpoint","value":"'delete/2'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"2. Проверка, что сущность недоступна по ID","time":{"start":1764190055452,"stop":1764190055454,"duration":2},"status":"passed","steps":[{"name":"GET запрос к 'get/2'","time":{"start":1764190055452,"stop":1764190055453,"duration":1},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http://localhost:8080/api/get/2\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/SDET-Workshop1/SDET-Workshop1/all_tests/api/clients/api_client.py\", line 57, in get\n    response.raise_for_status()\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[],"attachments":[],"parameters":[{"name":"endpoint","value":"'get/2'"},{"name":"response_model","value":"<class 'all_tests.api.models.response_models.EntityResponse'>"},{"name":"params","value":"None"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"Проверить статус код из списка допустимых","time":{"start":1764190055454,"stop":1764190055454,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"actual_code","value":"500"},{"name":"expected_codes","value":"[404, 400, 500]"},{"name":"operation","value":"'получения удаленной сущности'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"3. Проверка отсутствия сущности в общем списке","time":{"start":1764190055454,"stop":1764190055468,"duration":14},"status":"passed","steps":[{"name":"POST запрос к 'getAll'","time":{"start":1764190055454,"stop":1764190055467,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"endpoint","value":"'getAll'"},{"name":"data","value":"EntityCreate(title='dummy', verified=True, important_numbers=None, addition=None)"},{"name":"response_model","value":"<class 'all_tests.api.models.response_models.EntityListResponse'>"},{"name":"params","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"Проверить отсутствие значения в списке","time":{"start":1764190055468,"stop":1764190055468,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"item","value":"2"},{"name":"item_list","value":"[]"},{"name":"context","value":"'в списке сущностей'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":0,"hasContent":true},"afterStages":[{"name":"log_test_start::0","time":{"start":1764190055470,"stop":1764190055470,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"API Entity Management"},{"name":"story","value":"Удаление сущности"},{"name":"tag","value":"api"},{"name":"parentSuite","value":"all_tests.api"},{"name":"suite","value":"test_delete_entit"},{"name":"subSuite","value":"TestDeleteEntity"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"9583-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"all_tests.api.test_delete_entit"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"TC-API-005","url":"TC-API-005","type":"tms"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["api"]},"source":"403062e45cbe4806.json","parameterValues":[]}